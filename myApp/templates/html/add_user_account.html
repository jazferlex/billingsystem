{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="Dashboard">
  <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
  <title>Ginatilan Billing System</title>

  <!-- Favicons -->
  <link href="{% static 'website/img/favicon.ico' %}" rel="icon">
  <link href="{% static 'website/img/apple-touch-icon.ico' %}" rel="apple-touch-icon">

  <!-- Bootstrap core CSS -->
  <link href="{% static 'website/lib/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <!--external css-->
  <link href="{% static 'website/lib/font-awesome/css/font-awesome.css' %}" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="{% static '/website/css/zabuto_calendar.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static '/website/lib/gritter/css/jquery.gritter.css' %}" />
  <!-- Custom styles for this template -->
  <link href="{% static 'website/css/styles.css' %}" rel="stylesheet">
  <link href="{% static '/website/css/font.css' %}" rel="stylesheet">
  <link href="{% static 'website/css/style-responsive.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'website/lib/bootstrap/css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'website/lib/DataTables/css/mdb.min.css' %}">
  <link rel="stylesheet" href="{% static 'website/lib/bootstrap/css/ModifiedBootstrap.css' %}">
  <link rel="stylesheet" href="{% static 'website/lib/DataTables/css/dataTables.bootstrap4.min.css' %}">
  <script src="{% static 'website/lib/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'website/lib/DataTables/js/popper.min.js' %}"></script>
  <script src="{% static 'website/lib/bootstrap/js/bootstrap.min.js' %}"></script>
  <script src="{% static 'website/lib/DataTables/js/mdb.min.js' %}"></script>
  <script type = "text/javascript" src="{% static 'UtilPage/utility.js' %}"></script>
</head>

<body onload="show(usertype)">
  <script>
  var usertype = "{{context.UserType}}"
  </script>
    <section id="container">
        <!--Header Start-->
        <header class="header black-bg">
            <div class="sidebar-toggle-box">
                <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
            </div>
            <!--logo start-->
            <a href="index.html" class="logo"><b>Ginatilan Water Billing<span> Station</span></b></a>
            <!--logo end-->
            <div class="top-menu">
              <ul class="nav pull-right top-menu">
                  <li><a class="logout" href="/logout">Logout</a></li>
              </ul>
          </div>
        </header>
        <!--Header End-->
        <!--sidebar start-->
        <aside>
          <div id="sidebar" class="nav-collapse ">
              <!-- sidebar menu start-->
              <ul class="sidebar-menu" id="nav-accordion">
                  <p class="centered"><a href=""><img src="{% static 'website/img/ui-admin.jpg' %}" class="img-circle" width="80"></a></p>
                  <h5 class="centered">{{ context.name }}</h5>

                  <div id="billspayment" >
                    <li class="sub-menu" >
                      <a href="">
                        <i class="fa fa-money" aria-hidden="true"></i>
                          <span>Billing</span>
                      </a>
                      <ul class="sub">
                        <li><a href="/source_access/Payment">Bills Payment</a></li>                      
                        <li id=""><a href="/source_access/Send-Bill">Send Bill</a></li>
                        <li id=""><a href="/source_access/search-payment-history">Payment History</a></li>
                      </ul>
                  </li>
                </div>
    
                  <div id="input_reading" >
                      <li class="sub-menu" >
                        <a href="">
                          <i class="fa fa-calculator" aria-hidden="true"></i>
                            <span>Meter Reading</span>
                        </a>
                        <ul class="sub">
                          <li><a href="/source_access/add-meter-reading">Input Meter Reading</a></li>                      
                          <li id="modification"><a href="/source_access/Modify_Reading_Request">Modify Meter Reading</a></li>
                      
                        </ul>
                    </li>
                  </div>
    
                  <div id="manage_account" >
                    <li class="sub-menu" >
                        <a class="" href="">
                            <i class="fa fa-address-book"></i>
                            <span>Consumer Accounts</span>
                        </a>
                        <ul class="sub">
                            <li><a href="/source_access/view-consumer-list">View Consumer List</a></li>
                            <li><a href="/source_access/add-new-consumer">Consumer Creation</a></li>
                            <li><a href="/source_access/view-suspended-account">Reactivate Account</a></li>
                        </ul>
                    </li>
                    </div>
    
    
    
                    <div id="reports" >
    
                     <li class="sub-menu" >
                        <a href="">
                          <i class="fa fa-bar-chart" aria-hidden="true"></i>
                            <span>Reports</span>
                        </a>
                        <ul class="sub">
                          <li><a href="/source_access/usage-report-data">Usage Report</a></li>
                          <li><a href="/source_access/revenue-report-data">Revenue Report</a></li>
                            <li><a href="/source_access/pending_bills">Unsettled Bills</a></li>
                        </ul>
                    </li>
                    </div>
    
                    <div id="application" >
                    <li class="sub-menu" >
                        <a href="">
                          <i class="fa fa-thumbs-up" aria-hidden="true"></i>
                            <span>Approve Application</span>
                        </a>
                        <ul class="sub">
                          <li id="approve_app"><a href="/source_access/list-applicants">Application Request</a></li>
                          <li><a href="/source_access/view-approved-applicants">Approved Applicants</a></li>
                        </ul>
                    </li>
                    </div>
    
                    <div id="usermanagement" >
                    <li class="sub-menu" >
                        <a class= "" href="/source_access/view-system-user">
                          <i class="fa fa-users" aria-hidden="true"></i>
                          <span>Users Management</span>
                          </a>
                      </li>
                    </div>
    
                    <div id="usercreation" >
                      <li class="sub-menu" >
                          <a class= "active" href="/source_access/add_new_authorized_personel">
                            <i class="fa fa-user-plus"></i>
                            <span>User Creation</span>
                            </a>
                        </li>
                      </div>
    
                    <div id="rates"  >
                    <li class="sub-menu" >
                        <a class= "" href="/source_access/update-revenue-code">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          <span>Rates Management</span>
                          </a>
                    </li>
                    </div>
    
                    <div  id="backupdatabase"  >
                    <li class="sub-menu">
                        <!--Temporary disabled -->
                        <!--<a href="">
                          <i class="fa fa-database"></i>
                          <span>Backup Database</span>
                          </a> -->
                        <ul class="sub">
                          <li><a href="html/daily_data">Daily Data</a></li>
                          <li><a href="">Weekly Data</a></li>
                          <li><a href="">Monthly Data</a></li>
                          <li><a href="">Yearly Data</a></li>
                        </ul>
                    </li>
                </div>
                
                <div id="account-settings" >
                  <li class="sub-menu" >
                      <a class="" href="">
                          <i class="fa fa-cogs"></i>
                          <span>Account Settings</span>
                      </a>
                      <ul class="sub">
                          <li><a href="/source_access/My-Account={{context.userid}}">My Account</a></li>
                          <li><a href="/manual" target="_blank">View User Manual</a></li>
                          <li><a href="/logout">Log Out</a></li>
                      </ul>
                  </li>
              </div>
      

            </div>
    
            <script>
                function show(){
                var usertype = "{{ context.UserType }}";
    
                document.getElementById("rates").style.display = 'none';
                document.getElementById("usermanagement").style.display = 'none';
                document.getElementById("backupdatabase").style.display = 'none';
                document.getElementById("manage_account").style.display = 'none';
                document.getElementById("input_reading").style.display = 'none';
                document.getElementById("application").style.display = 'none';
                document.getElementById("reports").style.display = 'none';
                document.getElementById("billspayment").style.display = 'none'
                document.getElementById("usercreation").style.display = 'none'
                document.getElementById("modification").style.display = 'none'
    
                //admin
                if(usertype.includes("1") === true){
                    document.getElementById("usermanagement").style.display = 'block';
                    document.getElementById("backupdatabase").style.display = 'block';
                    document.getElementById("usercreation").style.display = 'block'
                }
                //Teller
                if(usertype.includes("2") === true){
                  document.getElementById("manage_account").style.display = 'block';
                  document.getElementById("reports").style.display = 'block';
                  document.getElementById("input_reading").style.display = 'block';
                  document.getElementById("application").style.display = 'block';
                  document.getElementById("billspayment").style.display = 'block'
                  document.getElementById("approve_app").style.display = 'none'
                //document.getElementById("modification").style.display = 'block'

            }
                //Supervisor
                if(usertype.includes("3") === true){
                      document.getElementById("manage_account").style.display = 'block';
                      document.getElementById("reports").style.display = 'block';
                      document.getElementById("input_reading").style.display = 'block';
                      document.getElementById("modification").style.display = 'block'
                      document.getElementById("application").style.display = 'block';
                      document.getElementById("billspayment").style.display = 'block'
                      document.getElementById("rates").style.display = 'block';
    
                  }
                //Manager
                if(usertype.includes("4") === true){
                    document.getElementById("rates").style.display = 'block';
                    document.getElementById("application").style.display = 'block';
                    document.getElementById("reports").style.display = 'block';
                }
    
                //meter reader
                if(usertype.includes("5") === true){
                    document.getElementById("input_reading").style.display = 'block';
                }
    
            };
            </script>
        </aside>
        <!--sidebar end-->
        <!--main content start-->
        <section id="main-content">
            <section class="wrapper">

              <!-- Button trigger modal -->
              <br>
                     <form action="/source_access/add_new_authorized_personel" method="POST">
                      <br>
                      <br>
                    
                      <center><h2>User Creation</h2></center>
                      <br>
                      <br>
                      {% csrf_token %}
                            <div class = "row">
                              <div class = "col-sm">
                                <div class="form-group">
                                  <label for="exampleInputEmail1">Firstname</label>
                                  <input type="text" name="firstname" class="form-control" id="Fname" aria-describedby="fname"  value="" placeholder="Firstname" >
                                </div>
                              </div>
                              <div class = "col-sm">
                                <div class="form-group">
                                  <label for="exampleInputEmail1">Middlename</label>
                                  <input type="text" name="{{ ReqParams.mname }}" class="form-control" id="Mname" aria-describedby="mname"  value="" placeholder="Middlename" >
                                </div>
                              </div>
                              <div class = "col-sm">
                                <div class="form-group">
                                  <label for="exampleInputEmail1">Lastname</label>
                                  <input type="text"  name="{{ ReqParams.lname }}" class="form-control" id="Lname" aria-describedby="lname" value="" placeholder="Lastname" >
                                </div>
                              </div>

                             <div class="form-group">
                               <label for="exampleInputPassword1">Mobile Number</label>
                               <input type="text" name="{{ ReqParams.mobile1 }}" class="form-control" id="mobile1" aria-describedby="mobile1"  value="" placeholder="Mobile Number " >
                             </div>


                           <div class="form-group">

                              <label for="exampleInputPassword1">Email</label><font color="red"><span id="error_email"></span></font>
                              <input type="email" name="{{ ReqParams.email }}" class="form-control" id="email" aria-describedby="email"  value="" placeholder="Email Address" onkeyup="checkEmail()">
                           </div>
                           <!--error message-->
                        

                           <div class="form-group">
                             <label for="exampleInputPassword1">User ID</label><span id="error_userid"></span><i id="useridmsg" style="color: red;"> {{context.msg}}</i>
                             <input type="text" name="{{ ReqParams.userid }}" class="form-control" id="useridval" aria-describedby="userid"  value="" placeholder="User ID" >
                           </div>
                  

                            <i style="color: red;">{{context.error_pass}} </i>
                           <div class="form-group">
                             <label for="exampleInputPassword1">Password </label>{{ context.error_password }}
                             <input type="password" name="{{ ReqParams.PASS }}" class="form-control" id="pass" aria-describedby="pass"  value="" placeholder="Password" >
                           </div>

                           <div class="form-group">
                             <label for="exampleInputPassword1">Repeat Password</label>
                             <input type="password" name="repeatpassword" class="form-control" id="repeatpass" aria-describedby="repeatpass"  value="" placeholder="Repeat Password" >
                           </div>


                           <div  class="form-group">
                             <p>User Types</p>

                              <input type="checkbox" id="admin" name="{{ReqParams.admin}}" value="{{ ReqParams.ADMIN }}">
                              <label for="admin">ADMIN</label><br>
                              <input type="checkbox" id="teller" name="{{ReqParams.teller}}" value="{{ ReqParams.TELLER }}">
                              <label for="admin">TELLER</label><br>
                              <input type="checkbox" id="supervisor" name="{{ReqParams.supervisor}}" value="{{ ReqParams.SUPERVISOR }}">
                              <label for="admin">SUPERVISOR</label><br>
                              <input type="checkbox" id="manager" name="{{ReqParams.manager}}" value="{{ ReqParams.MANAGER }}">
                              <label for="admin">MANAGER</label><br>
                              <input type="checkbox" id="reader" name="{{ReqParams.input_reader}}" value="{{ ReqParams.INPUT_READER }}">
                              <label for="admin">METER READER</label><br>
                           </div>
                           <script>

                         </script>


                           <div class="form-group">
                            <label for="level">Authorized Approver</label>
                            <select name="{{ ReqParams.can_approve }}" class="form-control" id="selectlevel" >
                              <option value="0">Approvers for Inbound Application</option>
                              <option value="0">Non Approver</option> 
                          
                              <option value="1">Supervisor</option>
                              
                              <option value="2">Engineer's Office</option>
                              
                              <option value="3">Mayor's Office</option>
                            </select>
                          </div>
                           <script>

                              var approverflag = "{{getId.approver_flag}}";
                              if( approverflag == "1"){
                                document.getElementById("yesvalue").checked = true;

                              }else{
                                document.getElementById("novalue").checked = true;

                              }



                           </script>

                          <div class="form-group">
                           <label for="exampleInputProfilepic">Profile Picture</label>
                           <input type="file" name="{{ ReqParams.profilepic }}" class="form-control" id="profilepic" aria-describedby="profilepic"  value="" placeholder="" onkeyup="set_account()">
                         </div>
                        <div class="modal-footer">
                          
                          <button type="submit" class="btn btn-primary" onclick="this.form.submit();this.disabled = true;" value="POST">Submit</button>
                        </div>
                      </div>

            </section>
        </section>
        <!--main content end-->
    </section>
    <!-- js placed at the end of the document so the pages load faster -->
    <script src="{% static 'website/lib/jquery/jquery.min.js' %}"></script>

    <script src="{% static 'website/lib/bootstrap/js/bootstrap.min.js' %}"></script>
    <script class="include" type="text/javascript" src="{% static 'website/lib/jquery.dcjqaccordion.2.7.js' %} "></script>
    <script src="{% static 'website/lib/jquery.scrollTo.min.js' %}"></script>
    <script src="{% static 'website/lib/jquery.nicescroll.js' %}" type="text/javascript"></script>
    <script src="{% static 'website/lib/jquery.sparkline.js' %}"></script>
    <script src="{% static 'website/lib/common-scripts.js' %}"></script>
    <script type="text/javascript" src="{% static 'website/lib/gritter/js/jquery.gritter.js' %}"></script>
    <script type="text/javascript" src="{% static 'website/lib/gritter-conf.js' %}"></script>
    <script src="{% static 'website/lib/DataTables/js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'website/lib/DataTables/js/dataTables.bootstrap4.min.js' %}"></script>


    <script>
    $(document).ready(function() {
        $('#tablePagination').DataTable();
    } );
    </script>

</body>

</html>
