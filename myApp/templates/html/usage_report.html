{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Favicons -->
    <link href="{% static 'website/img/favicon.ico' %}" rel="icon">
    <link href="{% static 'website/img/apple-touch-icon.ico' %}" rel="apple-touch-icon">

    <!-- Bootstrap core CSS -->
    <link href="{% static 'website/lib/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <!--external css-->
    <link href="{% static 'website/lib/font-awesome/css/font-awesome.css' %}" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="{% static '/website/css/zabuto_calendar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/website/lib/gritter/css/jquery.gritter.css' %}" />
    <!-- Custom styles for this template -->
    <link href="{% static 'website/css/styles.css' %}" rel="stylesheet">
    <link href="{% static 'custom.css' %}" rel="stylesheet">
    
    
    <link href="{% static '/website/css/font.css' %}" rel="stylesheet">
    <link href="{% static 'website/css/style-responsive.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'website/lib/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'website/lib/DataTables/css/mdb.min.css' %}">
    <link rel="stylesheet" href="{% static 'website/lib/bootstrap/css/ModifiedBootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'website/lib/DataTables/css/dataTables.bootstrap4.min.css' %}">
    <script src="{% static 'website/lib/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'website/lib/DataTables/js/popper.min.js' %}"></script>
    <script src="{% static 'website/lib/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'website/lib/DataTables/js/mdb.min.js' %}"></script>
    <script src="{% static 'website/lib/chart.js' %}"></script>
    <script src="{% static 'UtilPage/utility.js' %}"></script>


</head>
<body onload="show(usertype)">
<script>
    var usertype = "{{ context.UserType }}";
</script>
  <section id="container">

    <!--Header Start-->
    <header class="header black-bg">
        <div class="sidebar-toggle-box">
            <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
        </div>
        <!--logo start-->
        <a href="" class="logo"><b>Ginatilan Water Billing<span> Station</span></b></a>
        <!--logo end-->

        <div class="top-menu">
            <ul class="nav pull-right top-menu">
                <li><a class="logout" href="/logout">Logout</a></li>
            </ul>
        </div>

    </header>
    <!--Header End-->
    <!--sidebar start-->
    <aside>
      <div id="sidebar" class="nav-collapse ">
          <!-- sidebar menu start-->
          <ul class="sidebar-menu" id="nav-accordion">
              <p class="centered"><a href=""><img src="{% static 'website/img/ui-admin.jpg' %}" class="img-circle" width="80"></a></p>
              <h5 class="centered">{{ context.name }}</h5>
              
              <div id="billspayment" >
                <li class="sub-menu" >
                  <a href="">
                    <i class="fa fa-money" aria-hidden="true"></i>
                      <span>Billing</span>
                  </a>
                  <ul class="sub">
                    <li><a href="/source_access/Payment">Bills Payment</a></li>                      
                    <li id=""><a href="/source_access/Send-Bill">Send Bill</a></li>
                    <li id=""><a href="/source_access/search-payment-history">Payment History</a></li>
                  </ul>
              </li>
            </div>

            <div id="input_reading" >
                  <li class="sub-menu" >
                    <a href="">
                      <i class="fa fa-calculator" aria-hidden="true"></i>
                        <span>Meter Reading</span>
                    </a>
                    <ul class="sub">
                      <li><a href="/source_access/add-meter-reading">Input Meter Reading</a></li>
                      <li id="modification"><a href="/source_access/Modify_Reading_Request">Modify Meter Reading</a></li>
                    </ul>
                </li>
            </div>

              <div id="manage_account" >
                <li class="sub-menu" >
                    <a class="" href="">
                        <i class="fa fa-address-book"></i>
                        <span>Consumer Accounts</span>
                    </a>
                    <ul class="sub">
                        <li><a href="/source_access/view-consumer-list">View Consumer List</a></li>
                        <li><a href="/source_access/add-new-consumer">Consumer Creation</a></li>
                        <li><a href="/source_access/view-suspended-account">Reactivate Account</a></li>
                    </ul>
                </li>
                </div>



                <div id="reports" >

                 <li class="sub-menu" >
                    <a href="" class="active">
                      <i class="fa fa-bar-chart" aria-hidden="true"></i>
                        <span>Reports</span>
                    </a>
                    <ul class="sub">
                      <li><a href="/source_access/barangay-monthly-report-data">Barangay Report</a></li>
                      <li><a href="/source_access/usage-report-data">Usage Report</a></li>
                      <li><a href="/source_access/revenue-report-data">Revenue Report</a></li>
                      <li><a href="/source_access/pending_bills">Unsettled Bills</a></li>
                    </ul>
                </li>
                </div>

                <div id="application" >
                <li class="sub-menu" >
                    <a href="">
                      <i class="fa fa-thumbs-up" aria-hidden="true"></i>
                        <span>Approve Application</span>
                    </a>
                    <ul class="sub">
                      <li id="approve_app"><a href="/source_access/list-applicants">Application Request</a></li>
                      <li><a href="/source_access/view-approved-applicants">Approved Applicants</a></li>
                    </ul>
                </li>
                </div>

                <div id="usermanagement" >
                <li class="sub-menu" >
                    <a class= "" href="/source_access/view-system-user">
                      <i class="fa fa-users" aria-hidden="true"></i>
                      <span>Users Management</span>
                      </a>
                  </li>
                </div>

                <div id="usercreation" >
                  <li class="sub-menu" >
                      <a class= "" href="/source_access/add_new_authorized_personel">
                        <i class="fa fa-user-plus"></i>
                        <span>User Creation</span>
                        </a>
                    </li>
                  </div>

                <div id="rates"  >
                <li class="sub-menu" >
                    <a class= "" href="/source_access/update-revenue-code" class="active">
                      <i class="fa fa-book" aria-hidden="true"></i>
                      <span>Rates Management</span>
                      </a>
                </li>
                </div>

                <div  id="backupdatabase"  >
                <li class="sub-menu">
                    <!--Temporary disabled -->
                    <!--<a href="">
                      <i class="fa fa-database"></i>
                      <span>Backup Database</span>
                      </a> -->
                    <ul class="sub">
                      <li><a href="html/daily_data">Daily Data</a></li>
                      <li><a href="">Weekly Data</a></li>
                      <li><a href="">Monthly Data</a></li>
                      <li><a href="">Yearly Data</a></li>
                    </ul>
                </li>
            </div>

            <div id="account-settings" >
              <li class="sub-menu" >
                  <a class="" href="">
                      <i class="fa fa-cogs"></i>
                      <span>Account Settings</span>
                  </a>
                  <ul class="sub">
                      <li><a href="/source_access/My-Account={{context.userid}}">My Account</a></li>
                      <li><a href="/manual" target="_blank">View User Manual</a></li>
                      <li><a href="/logout">Log Out</a></li>
                  </ul>
              </li>
          </div>
  
        </div>

        
  </aside>
  

  <section id="main-content">
    <div class="container">
    <div class="card1" style="margin-right: -30px">
    <section class="wrapper">

    <form  action="/source_access/usage-report-data" method="POST">
      <script src="https:cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"> </script>
      <script>
        function convertToArray(obj) {
        return Object.keys(obj).map(function(key) {
            return obj[key];
        });
      }
      </script>
      <!--Monthly Report-->
        <!--<center><strong>Consumer per Barangay</strong></center>
        <div class="table-responsive">
          <table class="table m-0">
              <thead>
                  <tr>
                      <th scope="col">Anao</th>
                      <th scope="col">Cagsing</th>
                      <th scope="col">Calabawan</th>
                      <th scope="col">Cambagte</th>
                      <th scope="col">Campisong</th>
                      <th scope="col">Ca√±orong</th>
                      <th scope="col">Guiwanon</th>
                      <th scope="col">Looc</th>
                      <th scope="col">Malatbo</th>
                      <th scope="col">Mangaco</th>
                      <th scope="col">Palanas</th>
                      <th scope="col">Poblacion</th>
                      <th scope="col">Salamanca</th>
                      <th scope="col">San Roque</th>
                  </tr>
                  <i></i>
              </thead>

              <tbody>

                  <tr>

                      <th scope="row">{{ anao_count }}</th>
                      <td>{{ cagsing_count }} </td>
                      <td>{{ calabawan_count }}</td>
                      <th scope="row">{{ cambagte_count }}</th>
                      <td>{{ campisong_count }} </td>
                      <td>{{ ca√±orong_count }}</td>
                      <td>{{ guiwanon_count }}</td>
                      <th>{{ looc_count }}</th>
                      <td>{{ malatbo_count }} </td>
                      <td>{{ mangaco_count }}</td>
                      <td>{{ palanas_count }}</td>
                      <td>{{ poblacion_count }} </td>
                      <td>{{ salamanca_count }}</td>
                      <td>{{ sanroque_count }}</td>
                  </tr>
              </tbody>
          </table>

     </div> -->
      <br>
      <br>

      

      <section>

        {%csrf_token%}

        <br>
      <br>
      <center><h1>Usage Reports</h1></center>
      <br>
        
      <div class = "row">
          <div class = "col-sm-offset-7 col-sm-5">
                <div class="form-group">
                    <label for="exampleInputBarangay">Select Year</label>
                    <select name="{{ ReqParams.year }}" class="form-control" onchange='this.form.submit();'>
                      <option value="{{defval}}" selected>{{defval}}</option>
                      {% for year in allyear %}
                      <option value="{{ year }}">{{year}}</option>
                      {%endfor%}
                    </select>
                  </div>
                  <noscript><input type="submit" value="Submit"></noscript>
          </div>
            <div class = "col-sm">
              <div class="form-group"></div>
            </div>
            <div class = "col-sm">
                <div class="form-group"></div>
            </div>
            </div>
    
      </section>
      <center><strong>Total Usage for Year {{defval}}: {{report.total_usage|floatformat:2}} Cubic Meter</strong></center>
      <section>
        <canvas id="monthly_usage" width="800" height="150"></canvas>
      </section>
      <br>


      <!--Chart-->
      <script>
      var retval_list = ["{{ report.usage_january }}","{{ report.usage_february }}","{{ report.usage_march }}","{{ report.usage_april }}",
                  "{{ report.usage_may }}","{{ report.usage_june }}","{{ report.usage_july }}","{{ report.usage_august }}",
                  "{{ report.usage_september }}","{{ report.usage_october }}","{{ report.usage_november }}","{{ report.usage_december }}"]
          var final_list = []     
          for(var i = 0;i < retval_list.length;i++){
            if(retval_list[i] == 0){
              final_list.push(null)
            }else{
              final_list.push(retval_list[i])
            }
          }       
      var chart = new Chart("monthly_usage", {
      type: 'line',
  
      data: {
        labels: ["January", "February", "March", "April","May","June","July","August","September","October","November","December"],
        datasets: [
          {
            label: "Total Usage",
            fill: false,
            borderColor: '#20B2AA',
            tension: 0.1,
            backgroundColor: "#3090C7",
            data:  final_list ,
          }

        ]
      },

      options: {
        title: {
          display: true,
          text: 'Monthly Usage for Year {{defval}}',
        },
      scales: {
        xAxes: [{
          ticks: {
            beginAtZero: true
          }
        }]
      }

  }
  });
  </script>

  
  <section>
    <canvas id="barangay_usage" width="800" height="150"></canvas> 
    <br>
    
    <br>
    <br>
  </section>
  
  <script>
   
    var  brgy_usage = JSON.parse("{{ brgy_usage }}".split(","));
    brgy_usage = convertToArray(brgy_usage)
    var chart = new Chart('barangay_usage', {
    type: 'bar',
    data: {

      labels: ['Anao','Cagsing','Calabawan','Cambagte','Campisong','Ca√±orong',
                'Guiwanon','Looc','Malatbo','Mangaco','Palanas','Poblacion',
                'Salamanca','San Roque'],

      datasets: [
        {
          fill: false,
          borderColor: 'rgb(75, 192, 192)',
          tension: 0.1,
          data: ["{{anao_record.total_usage}}","{{cagsing_record.total_usage}}","{{calabawan_record.total_usage}}","{{cambagte_record.total_usage}}",
                "{{campisong_record.total_usage}}","{{Ca√±orong_record.total_usage}}","{{guiwanon_record.total_usage}}","{{looc_record.total_usage}}",
                "{{malatbo_record.total_usage}}","{{mangaco_record.total_usage}}","{{palanas_record.total_usage}}","{{poblacion_record.total_usage}}",
                "{{salamanca_record.total_usage}}","{{sanroque_record.total_usage}}"],
          backgroundColor: '#20B2AA',
          label: 'Total Usage'
        },

      ]
    },

    options: {
      title:{
        display: true,
        text: 'Barangay Usage for Year {{defval}}'




    }
    }
  });
  </script>

   <script src="https:cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"> </script>
   <!--canvas display-->
   <center><strong>Baranggay Monthly Usage for Year {{defval}}</strong></center>
   <br>
   <br>
   <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <canvas id="barChart1"></canvas>
            </div>
    </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <div class="container">
      <div class="col-xs-12">
        <canvas id="barChart2"></canvas>
      </div>
    </div>

  
    <!--canvas setup-->
  <script>
      var canvas = document.getElementById("barChart1");
      var ctx = canvas.getContext('2d');

      // Global Options:
      Chart.defaults.global.defaultFontColor = 'black';
      Chart.defaults.global.defaultFontSize = 16;

      var data = {
        labels: ['Anao','Cagsing','Calabawan','Cambagte','Campisong','Ca√±orong',
                  'Guiwanon'],
        datasets: [{
            label: "January",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "rgba(225,0,0,0.4)",
            borderColor: "red", // The main line color
            borderCapStyle: 'square',
            borderDash: [], // try [5, 15] for instance
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "black",
            pointBackgroundColor: "white",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "yellow",
            pointHoverBorderColor: "brown",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: true
            data: ["{{anao_record.usage_january}}", "{{cagsing_record.usage_january}}", "{{calabawan_record.usage_january}}", "{{cambagte_record.usage_january}}", "{{campisong_record.usage_january}}", "{{ca√±orong_record.usage_january}}", "{{guiwanon_record.usage_january}}"],
            spanGaps: true,
          }, {
            label: "February",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "rgba(167,105,0,0.4)",
            borderColor: "rgb(167, 105, 0)",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{anao_record.usage_february}}", "{{cagsing_record.usage_february}}", "{{calabawan_record.usage_february}}", "{{cambagte_record.usage_february}}", "{{campisong_record.usage_february}}", "{{ca√±orong_record.usage_february}}", "{{guiwanon_record.usage_february}}"],
            spanGaps: false,
          }, {
            label: "March",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "orange",
            borderColor: "orange",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data:  ["{{anao_record.usage_march}}", "{{cagsing_record.usage_march}}", "{{calabawan_record.usage_march}}", "{{cambagte_record.usage_march}}", "{{campisong_record.usage_march}}", "{{ca√±orong_record.usage_march}}", "{{guiwanon_record.usage_march}}"],
            spanGaps: false,
          },{
            label: "April",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "violet",
            borderColor: "violet",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data:  ["{{anao_record.usage_april}}", "{{cagsing_record.usage_april}}", "{{calabawan_record.usage_april}}", "{{cambagte_record.usage_april}}", "{{campisong_record.usage_april}}", "{{ca√±orong_record.usage_april}}", "{{guiwanon_record.usage_april}}"],
            spanGaps: false,
          },{
            label: "May",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "green",
            borderColor: "green",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{anao_record.usage_may}}", "{{cagsing_record.usage_may}}", "{{calabawan_record.usage_may}}", "{{cambagte_record.usage_may}}", "{{campisong_record.usage_may}}", "{{ca√±orong_record.usage_may}}", "{{guiwanon_record.usage_may}}"],
            spanGaps: false,
          },{
            label: "June",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "blue",
            borderColor: "blue",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{anao_record.usage_june}}", "{{cagsing_record.usage_june}}", "{{calabawan_record.usage_june}}", "{{cambagte_record.usage_june}}", "{{campisong_record.usage_june}}", "{{ca√±orong_record.usage_june}}", "{{guiwanon_record.usage_june}}"],
            spanGaps: false,
          },{
            label: "July",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "purple",
            borderColor: "purple",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{anao_record.usage_july}}", "{{cagsing_record.usage_july}}", "{{calabawan_record.usage_july}}", "{{cambagte_record.usage_july}}", "{{campisong_record.usage_july}}", "{{ca√±orong_record.usage_july}}", "{{guiwanon_record.usage_july}}"],
            spanGaps: false,
          },{
            label: "August",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "cyan",
            borderColor: "cyan",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{anao_record.usage_august}}", "{{cagsing_record.usage_august}}", "{{calabawan_record.usage_august}}", "{{cambagte_record.usage_august}}", "{{campisong_record.usage_august}}", "{{ca√±orong_record.usage_august}}", "{{guiwanon_record.usage_august}}"],
            spanGaps: false,
          },{
            label: "September",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "#34eb34",
            borderColor: "#34eb34",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data:  ["{{anao_record.usage_september}}", "{{cagsing_record.usage_september}}", "{{calabawan_record.usage_september}}", "{{cambagte_record.usage_september}}", "{{campisong_record.usage_september}}", "{{ca√±orong_record.usage_september}}", "{{guiwanon_record.usage_september}}"],
            spanGaps: false,
          },{
            label: "October",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "#3480eb",
            borderColor: "#3480eb",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{anao_record.usage_october}}", "{{cagsing_record.usage_october}}", "{{calabawan_record.usage_october}}", "{{cambagte_record.usage_october}}", "{{campisong_record.usage_october}}", "{{ca√±orong_record.usage_october}}", "{{guiwanon_record.usage_october}}"],
            spanGaps: false,
          },{
            label: "November",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "#ebb434",
            borderColor: "#ebb434",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown", 
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data:  ["{{anao_record.usage_november}}", "{{cagsing_record.usage_november}}", "{{calabawan_record.usage_november}}", "{{cambagte_record.usage_november}}", "{{campisong_record.usage_november}}", "{{ca√±orong_record.usage_november}}", "{{guiwanon_record.usage_november}}"],
            spanGaps: false,
          },{
            label: "December",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "#34ebab",
            borderColor: "#34ebab",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{anao_record.usage_december}}", "{{cagsing_record.usage_december}}", "{{calabawan_record.usage_december}}", "{{cambagte_record.usage_december}}", "{{campisong_record.usage_december}}", "{{ca√±orong_record.usage_december}}", "{{guiwanon_record.usage_december}}"],
            spanGaps: false,
          },
        ]
      };

      // Notice the scaleLabel at the same level as Ticks
      var options = {
        scales: {
                  yAxes: [{
                      ticks: {
                          beginAtZero:true
                      },
                      scaleLabel: {
                           display: true,
                           labelString: 'By Barangay',
                           fontSize: 20
                        }
                  }]
              }
      };



      // Chart declaration:
      var myBarChart = new Chart(ctx, {
        type: 'line',
        data: data,
        options: options
      });



        //Second Chart
      var canvas = document.getElementById("barChart2");
      var ctx = canvas.getContext('2d');

      // Global Options:
      Chart.defaults.global.defaultFontColor = 'black';
      Chart.defaults.global.defaultFontSize = 16;

      var data = {
        labels: ['Looc','Malatbo','Mangaco','Palanas','Poblacion',
                  'Salamanca','San Roque'],

        datasets: [{
            label: "January",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "rgba(225,0,0,0.4)",
            borderColor: "red", // The main line color
            borderCapStyle: 'square',
            borderDash: [], // try [5, 15] for instance
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "black",
            pointBackgroundColor: "white",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "yellow",
            pointHoverBorderColor: "brown",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: true
            data: ["{{looc_record.usage_january}}", "{{malatbo_record.usage_january}}", "{{mangaco_record.usage_january}}", "{{palanas_record.usage_january}}", "{{poblacion_record.usage_january}}", "{{salamanca_record.usage_january}}", "{{sanroque_record.usage_january}}"],
            spanGaps: true,
          }, {
            label: "February",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "rgba(167,105,0,0.4)",
            borderColor: "rgb(167, 105, 0)",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_february}}", "{{malatbo_record.usage_february}}", "{{mangaco_record.usage_february}}", "{{palanas_record.usage_february}}", "{{poblacion_record.usage_february}}", "{{salamanca_record.usage_february}}", "{{sanroque_record.usage_february}}"],
            spanGaps: false,
          }, {
            label: "March",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "orange",
            borderColor: "orange",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_march}}", "{{malatbo_record.usage_march}}", "{{mangaco_record.usage_march}}", "{{palanas_record.usage_march}}", "{{poblacion_record.usage_march}}", "{{salamanca_record.usage_march}}", "{{sanroque_record.usage_march}}"],
            spanGaps: false,
          },{
            label: "April",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "violet",
            borderColor: "violet",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_april}}", "{{malatbo_record.usage_april}}", "{{mangaco_record.usage_april}}", "{{palanas_record.usage_april}}", "{{poblacion_record.usage_april}}", "{{salamanca_record.usage_april}}", "{{sanroque_record.usage_april}}"],
            spanGaps: false,
          },{
            label: "May",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "green",
            borderColor: "green",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_may}}", "{{malatbo_record.usage_may}}", "{{mangaco_record.usage_may}}", "{{palanas_record.usage_may}}", "{{poblacion_record.usage_may}}", "{{salamanca_record.usage_may}}", "{{sanroque_record.usage_may}}"],
            spanGaps: false,
          },{
            label: "June",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "blue",
            borderColor: "blue",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_june}}", "{{malatbo_record.usage_june}}", "{{mangaco_record.usage_june}}", "{{palanas_record.usage_june}}", "{{poblacion_record.usage_june}}", "{{salamanca_record.usage_june}}", "{{sanroque_record.usage_june}}"],
            spanGaps: false,
          },{
            label: "July",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "purple",
            borderColor: "purple",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_july}}", "{{malatbo_record.usage_july}}", "{{mangaco_record.usage_july}}", "{{palanas_record.usage_july}}", "{{poblacion_record.usage_july}}", "{{salamanca_record.usage_july}}", "{{sanroque_record.usage_july}}"],
            spanGaps: false,
          },{
            label: "August",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "cyan",
            borderColor: "cyan",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_august}}", "{{malatbo_record.usage_august}}", "{{mangaco_record.usage_august}}", "{{palanas_record.usage_august}}", "{{poblacion_record.usage_august}}", "{{salamanca_record.usage_august}}", "{{sanroque_record.usage_august}}"],
            spanGaps: false,
          },{
            label: "September",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "#34eb34",
            borderColor: "#34eb34",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_september}}", "{{malatbo_record.usage_september}}", "{{mangaco_record.usage_september}}", "{{palanas_record.usage_september}}", "{{poblacion_record.usage_september}}", "{{salamanca_record.usage_september}}", "{{sanroque_record.usage_september}}"],
            spanGaps: false,
          },{
            label: "October",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "#3480eb",
            borderColor: "#3480eb",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_october}}", "{{malatbo_record.usage_october}}", "{{mangaco_record.usage_october}}", "{{palanas_record.usage_october}}", "{{poblacion_record.usage_october}}", "{{salamanca_record.usage_october}}", "{{sanroque_record.usage_october}}"],
            spanGaps: false,
          },{
            label: "November",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "#ebb434",
            borderColor: "#ebb434",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_november}}", "{{malatbo_record.usage_november}}", "{{mangaco_record.usage_november}}", "{{palanas_record.usage_november}}", "{{poblacion_record.usage_november}}", "{{salamanca_record.usage_november}}", "{{sanroque_record.usage_november}}"],
            spanGaps: false,
          },{
            label: "December",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "#34ebab",
            borderColor: "#34ebab",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "white",
            pointBackgroundColor: "black",
            pointBorderWidth: 1,
            pointHoverRadius: 8,
            pointHoverBackgroundColor: "brown",
            pointHoverBorderColor: "yellow",
            pointHoverBorderWidth: 2,
            pointRadius: 4,
            pointHitRadius: 10,
            // notice the gap in the data and the spanGaps: false
            data: ["{{looc_record.usage_december}}", "{{malatbo_record.usage_december}}", "{{mangaco_record.usage_december}}", "{{palanas_record.usage_december}}", "{{poblacion_record.usage_december}}", "{{salamanca_record.usage_december}}", "{{sanroque_record.usage_december}}"],
            spanGaps: false,
          },
        ]
      };

      // Notice the scaleLabel at the same level as Ticks
      var options = {
        scales: {
                  yAxes: [{
                      ticks: {
                          beginAtZero:true
                      },
                      scaleLabel: {
                           display: true,
                           labelString: 'By Barangay',
                           fontSize: 20
                        }
                  }]
              }
      };

      // Chart declaration:
      var myBarChart = new Chart(ctx, {
        type: 'line',
        data: data,
        options: options
      });

    </script>
   
   

</section>

<!--
<section>
  <br>
   <div class="row">
       <div class = "col-sm">
         <div class="form-group">
           <label for="exampleInputBarangay">Select Barangay</label>
           <select name="{{ ReqParams.barangay }}" class="form-control" onchange='this.form.submit();'>
             <option value="{{ defval_code }}" selected>{{defval_brgyname}} </option>
             <option value="01">Anao </option>
             <option value="02">Cagsing</option>
             <option value="03">Calabawan</option>
             <option value="04">Cambagte</option>
             <option value="05">Campisong</option>
             <option value="06">Ca√±orong</option>
             <option value="07">Guiwanon</option>
             <option value="08">Looc</option>
             <option value="09">Malatbo</option>
             <option value="10">Mangaco</option>
             <option value="11">Palanas</option>
             <option value="12">Poblacion</option>
             <option value="13">Salamanca</option>
             <option value="14">San Roque</option>
           </select>
         </div>
       </div>  
         <div class = "col-sm">
           <div class="form-group"></div>
         </div>
         <div class = "col-sm">
               <div class="form-group"></div>
         </div>
     </div>
 
  
 
       <canvas id="brgy_monthly_usage" width="800" height="150"></canvas>
       <br>
       <strong>Barangay {{defval_brgyname}} Total Usage for Year {{defval}}: {{brgycode.total_usage|floatformat:2}} Cubic Meter</strong>
       <script>
         
       var chart = new Chart("brgy_monthly_usage", {
       type: 'line',
   
       data: {
         labels: ["January", "February", "March", "April","May","June","July","August","September","October","November","December"],
         datasets: [
           {
             label: "Total Usage",
             fill: false,
             borderColor: 'rgb(75, 192, 192)',
             tension: 0.1,
             backgroundColor: "#3090C7",
             data: ["{{ brgycode.usage_january }}","{{ brgycode.usage_february }}","{{ brgycode.usage_march }}","{{ brgycode.usage_april }}",
                   "{{ brgycode.usage_may }}","{{ brgycode.usage_june }}","{{ brgycode.usage_july }}","{{ brgycode.usage_august }}",
                   "{{ brgycode.usage_september }}","{{ brgycode.usage_october }}","{{ brgycode.usage_november }}","{{ brgycode.usage_december }}"]
           }
 
         ]
       },
 
       options: {
         title: {
           display: true,
           text: 'Barangay {{defval_brgyname}} Usage for  Year {{defval}}'
         },
       scales: {
         xAxes: [{
           ticks: {
             beginAtZero: true
           }
         }]
       }
 
   }
   });
   </script>-->
  <br>
  <br>

<p id="show"></p>
</form>
</div>
</div>
</section>

</section>
</section>

<div class="se-pre-con"></div>
                  <script>
                    function load(){
                      document.getElementsByClassName("se-pre-con").style.display = "block"
                    }
                  </script>
 <!-- js placed at the end of the document so the pages load faster -->
 <script src="{% static 'website/lib/jquery/jquery.min.js' %}"></script>

 <script src="{% static 'website/lib/bootstrap/js/bootstrap.min.js' %}"></script>
 <script class="include" type="text/javascript" src="{% static 'website/lib/jquery.dcjqaccordion.2.7.js' %} "></script>
 <script src="{% static 'website/lib/jquery.scrollTo.min.js' %}"></script>
 <script src="{% static 'website/lib/jquery.nicescroll.js' %}" type="text/javascript"></script>
 <script src="{% static 'website/lib/jquery.sparkline.js' %}"></script>
 <script src="{% static 'website/lib/common-scripts.js' %}"></script>
 <script type="text/javascript" src="{% static 'website/lib/gritter/js/jquery.gritter.js' %}"></script>
 <script type="text/javascript" src="{% static 'website/lib/gritter-conf.js' %}"></script>

 <script>
  $(document).ready(function() {
      $('#tablePagination').DataTable();
  } );


   $(window).on("load",function(){
       $(".loader-wrapper").fadeOut("milliseconds");
  });


  $(window).on("load",function() {
  // Animate loader off screen
  $(".se-pre-con").fadeOut("slow");;
  });
  </script>
</body>
</html>
